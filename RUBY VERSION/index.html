<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="static/ace-builds/src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
		<title>ACE in Action</title>
		<script>
			function change_theme()
			{
				theme = document.getElementById("select_theme").value;
				editor.setTheme("ace/theme/" + theme);
			}
			
			function formatCode()
			{
				var code = editor.getValue();
				code = code.replace(/\r?\n/g, "<br/>"); //replace return carriage and newline characters
				code = code.replace(/ /g,"&nbsp;"); //replace spaces with ACII value, can't use \s reg-ex because \r & \n are technically "whitespace characters"
				
				document.getElementById("code_display").innerHTML = code;
			}
		</script>
	</head>
	<body>
		<div id="options" onchange="change_theme();">
			Change theme: 
			<select id="select_theme">
				<option value="ambiance">ambiance</option>
				<option value="chaos">chaos</option>
				<option value="chrome">chrome</option>
				<option value="clouds">clouds</option>
				<option value="clouds_midnight">clouds_midnight</option>
				<option value="cobalt">cobalt</option>
				<option value="crimson_editor">crimson_editor</option>
				<option value="dawn">dawn</option>
				<option value="dreamweaver">dreamweaver</option>
				<option value="eclipse">eclipse</option>
				<option value="github">github</option>
				<option value="idle_fingers" selected>idle_fingers</option>
				<option value="katzenmilch">katzenmilch</option>
				<option value="kr_theme">kr_theme</option>
				<option value="kuroir">kuroir</option>
				<option value="merbivore">merbivore</option>
				<option value="merbivore_soft">merbivore_soft</option>
				<option value="mono_industrial">mono_industrial</option>
				<option value="monokai">monokai</option>
				<option value="pastel_on_dark">pastel_on_dark</option>
				<option value="solarized_dark">solarized_dark</option>
				<option value="solarized_light">solarized_light</option>
				<option value="terminal">terminal</option>
				<option value="textmate">textmate</option>
				<option value="tomorrow">tomorrow</option>
				<option value="tomorrow_night">tomorrow_night</option>
				<option value="tomorrow_night_blue">tomorrow_night_blue</option>
				<option value="tomorrow_night_bright">tomorrow_night_bright</option>
				<option value="tomorrow_night_eighties">tomorrow_night_eighties</option>
				<option value="twilight">twilight</option>
				<option value="vibrant_ink">vibrant_ink</option>
				<option value="xcode">xcode</option>
			</select>
		</div>
		<br/>
		<div id="code">
			<div id="editor" style="width:800px;height:500px;border:1px solid black;" >function foo(items) {
				var x = "All this is syntax highlighted";
				return x;
			}</div>
		</div>
		<script>
			var something = ace.edit("editor");
			something.setTheme("ace/theme/idle_fingers");
			something.getSession().setMode("ace/mode/python");
		</script>
		<br/>
		<button id="button1" onClick="formatCode();">Grab Code</button>
		<br/>
		<br/>
		<div id="code_display">Code will show up here.</div>
	</body>
</html>